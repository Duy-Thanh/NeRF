cmake_minimum_required(VERSION 3.16)
project(DAF_Demo)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Find required packages
find_package(PkgConfig REQUIRED)
pkg_check_modules(HIREDIS REQUIRED hiredis)
find_package(OpenSSL REQUIRED)

# Include directories
include_directories(src/common)
include_directories(src/storage)

# Simple demo executable that uses Redis
add_executable(redis_demo
    src/demo_main.cpp
    src/storage/redis_client_production.cpp
)

target_link_libraries(redis_demo
    ${HIREDIS_LIBRARIES}
    OpenSSL::SSL
    OpenSSL::Crypto
    pthread
)

target_include_directories(redis_demo PUBLIC
    ${HIREDIS_INCLUDE_DIRS}
)

target_link_directories(redis_demo PUBLIC
    ${HIREDIS_LIBRARY_DIRS}
)