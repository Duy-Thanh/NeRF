<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients for modern look -->
    <linearGradient id="coordinatorGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#45A049;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="workerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1976D2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="redisGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF5722;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#E64A19;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="pluginGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7B1FA2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9800;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F57C00;stop-opacity:1" />
    </linearGradient>
    
    <!-- Drop shadow filter -->
    <filter id="dropshadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8f9fa" stroke="none"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    DAF (Distributed Avatar Framework) - Production Architecture
  </text>
  <text x="600" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#7f8c8d">
    Enterprise MapReduce System for NeRF Avatar Processing - Zero Simulation Code
  </text>
  
  <!-- Docker Container Border -->
  <rect x="50" y="80" width="1100" height="680" fill="none" stroke="#34495e" stroke-width="3" stroke-dasharray="10,5" rx="10"/>
  <text x="70" y="105" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#34495e">üê≥ Docker Production Environment</text>
  
  <!-- Client Layer -->
  <rect x="80" y="130" width="200" height="80" fill="url(#apiGrad)" stroke="#E67E22" stroke-width="2" rx="8" filter="url(#dropshadow)"/>
  <text x="180" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">REST API Client</text>
  <text x="180" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">HTTP/JSON</text>
  <text x="180" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">localhost:8080</text>
  
  <!-- Coordinator (Production) -->
  <rect x="420" y="130" width="300" height="120" fill="url(#coordinatorGrad)" stroke="#27AE60" stroke-width="3" rx="10" filter="url(#dropshadow)"/>
  <text x="570" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Production Coordinator</text>
  <text x="570" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Microsoft cpprest HTTP Server</text>
  <text x="570" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Enterprise Job Scheduling</text>
  <text x="570" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Real Redis Integration</text>
  <text x="570" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">coordinator_production (Port 8080/50051)</text>
  
  <!-- Redis Production -->
  <rect x="850" y="130" width="250" height="120" fill="url(#redisGrad)" stroke="#C0392B" stroke-width="3" rx="10" filter="url(#dropshadow)"/>
  <text x="975" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Redis Production</text>
  <text x="975" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Real hiredis Client</text>
  <text x="975" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Job Queue Management</text>
  <text x="975" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Worker Registration</text>
  <text x="975" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">redis:6379</text>
  
  <!-- MapReduce Workers -->
  <rect x="80" y="300" width="250" height="140" fill="url(#workerGrad)" stroke="#1565C0" stroke-width="3" rx="10" filter="url(#dropshadow)"/>
  <text x="205" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Worker Node 1</text>
  <text x="205" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ MapReduce Engine</text>
  <text x="205" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Plugin System</text>
  <text x="205" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Task Executor</text>
  <text x="205" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Memory: 512MB</text>
  <text x="205" y="410" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">worker_production:50052</text>
  
  <rect x="350" y="300" width="250" height="140" fill="url(#workerGrad)" stroke="#1565C0" stroke-width="3" rx="10" filter="url(#dropshadow)"/>
  <text x="475" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Worker Node 2</text>
  <text x="475" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ MapReduce Engine</text>
  <text x="475" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Plugin System</text>
  <text x="475" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Task Executor</text>
  <text x="475" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Memory: 512MB</text>
  <text x="475" y="410" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">worker_production:50052</text>
  
  <rect x="620" y="300" width="250" height="140" fill="url(#workerGrad)" stroke="#1565C0" stroke-width="3" rx="10" filter="url(#dropshadow)"/>
  <text x="745" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Worker Node N</text>
  <text x="745" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Horizontally Scalable</text>
  <text x="745" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Auto Registration</text>
  <text x="745" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Load Balancing</text>
  <text x="745" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Memory: 512MB</text>
  <text x="745" y="410" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">docker-compose scale</text>
  
  <!-- NeRF Plugin System -->
  <rect x="890" y="300" width="220" height="140" fill="url(#pluginGrad)" stroke="#6A1B9A" stroke-width="3" rx="10" filter="url(#dropshadow)"/>
  <text x="1000" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">NeRF Plugin</text>
  <text x="1000" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Advanced Algorithms</text>
  <text x="1000" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Neural Networks</text>
  <text x="1000" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ Volumetric Rendering</text>
  <text x="1000" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">‚Ä¢ IPlugin Interface</text>
  <text x="1000" y="410" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">libnerf_avatar_plugin.so</text>
  
  <!-- MapReduce Processing Flow -->
  <rect x="80" y="480" width="1030" height="120" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" rx="10" filter="url(#dropshadow)"/>
  <text x="595" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">MapReduce Processing Pipeline</text>
  
  <!-- Map Phase -->
  <rect x="100" y="520" width="160" height="60" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
  <text x="180" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">MAP PHASE</text>
  <text x="180" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Face Processing</text>
  <text x="180" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Feature Extraction</text>
  
  <!-- Shuffle Phase -->
  <rect x="300" y="520" width="160" height="60" fill="#e67e22" stroke="#d35400" stroke-width="2" rx="5"/>
  <text x="380" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">SHUFFLE</text>
  <text x="380" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Data Partitioning</text>
  <text x="380" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Redis Coordination</text>
  
  <!-- Reduce Phase -->
  <rect x="500" y="520" width="160" height="60" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
  <text x="580" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">REDUCE PHASE</text>
  <text x="580" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Avatar Generation</text>
  <text x="580" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">3D Rendering</text>
  
  <!-- Output -->
  <rect x="700" y="520" width="160" height="60" fill="#8e44ad" stroke="#7d3c98" stroke-width="2" rx="5"/>
  <text x="780" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">OUTPUT</text>
  <text x="780" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">NeRF Avatars</text>
  <text x="780" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">3D Models</text>
  
  <!-- Monitoring -->
  <rect x="900" y="520" width="160" height="60" fill="#34495e" stroke="#2c3e50" stroke-width="2" rx="5"/>
  <text x="980" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">MONITORING</text>
  <text x="980" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Health Checks</text>
  <text x="980" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Performance</text>
  
  <!-- Technology Stack -->
  <rect x="80" y="620" width="1030" height="100" fill="#2c3e50" stroke="#34495e" stroke-width="2" rx="10" filter="url(#dropshadow)"/>
  <text x="595" y="645" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Production Technology Stack</text>
  
  <text x="120" y="670" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3498db">Language:</text>
  <text x="180" y="670" font-family="Arial, sans-serif" font-size="12" fill="white">C++17 (GCC 15.2.0)</text>
  
  <text x="320" y="670" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e74c3c">Redis:</text>
  <text x="360" y="670" font-family="Arial, sans-serif" font-size="12" fill="white">hiredis library</text>
  
  <text x="480" y="670" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f39c12">HTTP:</text>
  <text x="520" y="670" font-family="Arial, sans-serif" font-size="12" fill="white">Microsoft cpprest</text>
  
  <text x="660" y="670" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9b59b6">Plugins:</text>
  <text x="710" y="670" font-family="Arial, sans-serif" font-size="12" fill="white">Dynamic .so/.dll</text>
  
  <text x="840" y="670" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#27ae60">Deploy:</text>
  <text x="890" y="670" font-family="Arial, sans-serif" font-size="12" fill="white">Docker Compose</text>
  
  <text x="120" y="690" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3498db">Memory:</text>
  <text x="180" y="690" font-family="Arial, sans-serif" font-size="12" fill="white">512MB per container</text>
  
  <text x="320" y="690" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e74c3c">Build:</text>
  <text x="360" y="690" font-family="Arial, sans-serif" font-size="12" fill="white">CMake + MinGW</text>
  
  <text x="480" y="690" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f39c12">Status:</text>
  <text x="520" y="690" font-family="Arial, sans-serif" font-size="12" fill="white">Zero Simulation Code</text>
  
  <text x="660" y="690" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9b59b6">Scale:</text>
  <text x="710" y="690" font-family="Arial, sans-serif" font-size="12" fill="white">Horizontal (N workers)</text>
  
  <text x="840" y="690" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#27ae60">Ready:</text>
  <text x="890" y="690" font-family="Arial, sans-serif" font-size="12" fill="white">Production ‚úÖ</text>
  
  <!-- Connection Arrows -->
  <!-- API to Coordinator -->
  <path d="M 280 170 L 420 180" stroke="#34495e" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="350" y="165" font-family="Arial, sans-serif" font-size="10" fill="#34495e">HTTP/JSON</text>
  
  <!-- Coordinator to Redis -->
  <path d="M 720 180 L 850 180" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="785" y="175" font-family="Arial, sans-serif" font-size="10" fill="#e74c3c">hiredis</text>
  
  <!-- Coordinator to Workers -->
  <path d="M 520 250 L 205 300" stroke="#2980b9" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 570 250 L 475 300" stroke="#2980b9" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 620 250 L 745 300" stroke="#2980b9" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="400" y="280" font-family="Arial, sans-serif" font-size="10" fill="#2980b9">Task Distribution</text>
  
  <!-- Workers to Plugin -->
  <path d="M 330 370 L 890 370" stroke="#9b59b6" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 600 370 L 890 370" stroke="#9b59b6" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 870 370 L 890 370" stroke="#9b59b6" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="600" y="385" font-family="Arial, sans-serif" font-size="10" fill="#9b59b6">Plugin Loading</text>
  
  <!-- MapReduce Flow Arrows -->
  <path d="M 260 550 L 300 550" stroke="#34495e" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 460 550 L 500 550" stroke="#34495e" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 660 550 L 700 550" stroke="#34495e" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 860 550 L 900 550" stroke="#34495e" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
    </marker>
  </defs>
  
  <!-- Footer -->
  <text x="600" y="780" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-style="italic" fill="#7f8c8d">
    üé≠ DAF Framework - Enterprise-Grade Distributed NeRF Avatar Processing System (September 2025)
  </text>
</svg>